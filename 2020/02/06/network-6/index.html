<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5"><title>计算机网络(气)：应用层 | BLEACH</title><meta name="description" content="计算机网络(气)：应用层"><meta name="keywords" content="计算机网络"><meta name="author" content="fc"><meta name="copyright" content="fc"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.ico"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin><link rel="preconnect" href="//busuanzi.ibruce.info"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="计算机网络(气)：应用层"><meta name="twitter:description" content="计算机网络(气)：应用层"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png"><meta property="og:type" content="article"><meta property="og:title" content="计算机网络(气)：应用层"><meta property="og:url" content="http://fengce1993.github.io/2020/02/06/network-6/"><meta property="og:site_name" content="BLEACH"><meta property="og:description" content="计算机网络(气)：应用层"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>const autoChangeMode = 'false'
var t = Cookies.get("theme");
if (autoChangeMode == '1'){
const isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
const isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
const isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

if (t === undefined){
  if (isLightMode) activateLightMode()
  else if (isDarkMode) activateDarkMode()
  else if (isNotSpecified || hasNoSupport){
    console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
    now = new Date();
    hour = now.getHours();
    isNight = hour < 6 || hour >= 18
    isNight ? activateDarkMode() : activateLightMode()
}
} else if (t == 'light') activateLightMode()
else activateDarkMode()


} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="http://fengce1993.github.io/2020/02/06/network-6/"><link rel="next" title="计算机网络(六)：运输层" href="http://fengce1993.github.io/2020/02/05/network-5/"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css"><script src="https://cdn.jsdelivr.net/npm/gitalk@latest/dist/gitalk.min.js"></script><script src="https://cdn.jsdelivr.net/npm/blueimp-md5@2.10.0/js/md5.min.js"></script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    title: 'Snackbar.bookmark.title',
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: false,
  isHome: false,
  isPost: true
  
}</script><meta name="generator" content="Hexo 4.2.0"><link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head><body><header> <div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">BLEACH</a></span><span class="toggle-menu pull_right close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div></div></span></div></header><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">7</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">1</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">1</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">目录</div><div class="sidebar-toc__content"><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#1-域名系统-dns"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text"> 1 域名系统 DNS</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#11-域名系统概述"><span class="toc_mobile_items-number">1.1.</span> <span class="toc_mobile_items-text"> 1.1 域名系统概述</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#12-因特网的域名结构"><span class="toc_mobile_items-number">1.2.</span> <span class="toc_mobile_items-text"> 1.2 因特网的域名结构</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#13-域名服务器"><span class="toc_mobile_items-number">1.3.</span> <span class="toc_mobile_items-text"> 1.3 域名服务器</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#2-文件传送协议"><span class="toc_mobile_items-number">2.</span> <span class="toc_mobile_items-text"> 2 文件传送协议</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#21-ftp概述"><span class="toc_mobile_items-number">2.1.</span> <span class="toc_mobile_items-text"> 2.1 FTP概述</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#22-ftp-的基本工作原理"><span class="toc_mobile_items-number">2.2.</span> <span class="toc_mobile_items-text"> 2.2 FTP 的基本工作原理</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#23-简单文件传送协议-tftp"><span class="toc_mobile_items-number">2.3.</span> <span class="toc_mobile_items-text"> 2.3 简单文件传送协议 TFTP</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#3-远程终端协议-telnet"><span class="toc_mobile_items-number">3.</span> <span class="toc_mobile_items-text"> 3 远程终端协议 TELNET</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#4-万维网-www"><span class="toc_mobile_items-number">4.</span> <span class="toc_mobile_items-text"> 4 万维网 WWW</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#41-万维网概述"><span class="toc_mobile_items-number">4.1.</span> <span class="toc_mobile_items-text"> 4.1 万维网概述</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#42-统一资源定位符-url"><span class="toc_mobile_items-number">4.2.</span> <span class="toc_mobile_items-text"> 4.2 统一资源定位符 URL</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#43-超文本传送协议-http"><span class="toc_mobile_items-number">4.3.</span> <span class="toc_mobile_items-text"> 4.3 超文本传送协议 HTTP</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#431-http-的操作过程"><span class="toc_mobile_items-number">4.3.1.</span> <span class="toc_mobile_items-text"> 4.3.1 HTTP 的操作过程</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#432-http-的主要特点"><span class="toc_mobile_items-number">4.3.2.</span> <span class="toc_mobile_items-text"> 4.3.2 HTTP 的主要特点</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#433-http-的报文结构"><span class="toc_mobile_items-number">4.3.3.</span> <span class="toc_mobile_items-text"> 4.3.3 HTTP 的报文结构</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#434-在服务器上存放用户的信息"><span class="toc_mobile_items-number">4.3.4.</span> <span class="toc_mobile_items-text"> 4.3.4 在服务器上存放用户的信息</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#44-万维网的文档"><span class="toc_mobile_items-number">4.4.</span> <span class="toc_mobile_items-text"> 4.4 万维网的文档</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#441-超文本标记语言-html"><span class="toc_mobile_items-number">4.4.1.</span> <span class="toc_mobile_items-text"> 4.4.1 超文本标记语言 HTML</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#442-动态万维网文档"><span class="toc_mobile_items-number">4.4.2.</span> <span class="toc_mobile_items-text"> 4.4.2 动态万维网文档</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#443-活动万维网文档"><span class="toc_mobile_items-number">4.4.3.</span> <span class="toc_mobile_items-text"> 4.4.3 活动万维网文档</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#444-浏览器的结构"><span class="toc_mobile_items-number">4.4.4.</span> <span class="toc_mobile_items-text"> 4.4.4 浏览器的结构</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#45-万维网的信息检索系统"><span class="toc_mobile_items-number">4.5.</span> <span class="toc_mobile_items-text"> 4.5 万维网的信息检索系统</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#5-电子邮件"><span class="toc_mobile_items-number">5.</span> <span class="toc_mobile_items-text"> 5 电子邮件</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#51-概述"><span class="toc_mobile_items-number">5.1.</span> <span class="toc_mobile_items-text"> 5.1 概述</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#52-简单邮件传送协议-smtp"><span class="toc_mobile_items-number">5.2.</span> <span class="toc_mobile_items-text"> 5.2 简单邮件传送协议 SMTP</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#53-电子邮件的信息格式"><span class="toc_mobile_items-number">5.3.</span> <span class="toc_mobile_items-text"> 5.3 电子邮件的信息格式</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#54-邮件读取协议-pop3-和-imap"><span class="toc_mobile_items-number">5.4.</span> <span class="toc_mobile_items-text"> 5.4 邮件读取协议 POP3 和 IMAP</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#55-基于万维网的电子邮件"><span class="toc_mobile_items-number">5.5.</span> <span class="toc_mobile_items-text"> 5.5 基于万维网的电子邮件</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#56-通用因特网邮件扩充-mime"><span class="toc_mobile_items-number">5.6.</span> <span class="toc_mobile_items-text"> 5.6 通用因特网邮件扩充 MIME</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#6-动态主机配置协议-dhcp"><span class="toc_mobile_items-number">6.</span> <span class="toc_mobile_items-text"> 6 动态主机配置协议 DHCP</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#7-简单网络管理协议-snmp"><span class="toc_mobile_items-number">7.</span> <span class="toc_mobile_items-text"> 7 简单网络管理协议 SNMP</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#71-网络管理的基本概念"><span class="toc_mobile_items-number">7.1.</span> <span class="toc_mobile_items-text"> 7.1 网络管理的基本概念</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#72-管理信息结构-smi"><span class="toc_mobile_items-number">7.2.</span> <span class="toc_mobile_items-text"> 7.2 管理信息结构 SMI</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#73-管理信息库-mib"><span class="toc_mobile_items-number">7.3.</span> <span class="toc_mobile_items-text"> 7.3 管理信息库 MIB</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#74-snmp-的协议数据单元和报文"><span class="toc_mobile_items-number">7.4.</span> <span class="toc_mobile_items-text"> 7.4 SNMP 的协议数据单元和报文</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#8-应用进程跨越网络的通信"><span class="toc_mobile_items-number">8.</span> <span class="toc_mobile_items-text"> 8 应用进程跨越网络的通信</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#81-系统调用和应用编程接口"><span class="toc_mobile_items-number">8.1.</span> <span class="toc_mobile_items-text"> 8.1 系统调用和应用编程接口</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#82-几种常用的系统调用"><span class="toc_mobile_items-number">8.2.</span> <span class="toc_mobile_items-text"> 8.2 几种常用的系统调用</span></a></li></ol></li></ol></div></div></div><div id="body-wrap"><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true">     </i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-域名系统-dns"><span class="toc-number">1.</span> <span class="toc-text"> 1 域名系统 DNS</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#11-域名系统概述"><span class="toc-number">1.1.</span> <span class="toc-text"> 1.1 域名系统概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-因特网的域名结构"><span class="toc-number">1.2.</span> <span class="toc-text"> 1.2 因特网的域名结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-域名服务器"><span class="toc-number">1.3.</span> <span class="toc-text"> 1.3 域名服务器</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-文件传送协议"><span class="toc-number">2.</span> <span class="toc-text"> 2 文件传送协议</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#21-ftp概述"><span class="toc-number">2.1.</span> <span class="toc-text"> 2.1 FTP概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#22-ftp-的基本工作原理"><span class="toc-number">2.2.</span> <span class="toc-text"> 2.2 FTP 的基本工作原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#23-简单文件传送协议-tftp"><span class="toc-number">2.3.</span> <span class="toc-text"> 2.3 简单文件传送协议 TFTP</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-远程终端协议-telnet"><span class="toc-number">3.</span> <span class="toc-text"> 3 远程终端协议 TELNET</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-万维网-www"><span class="toc-number">4.</span> <span class="toc-text"> 4 万维网 WWW</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#41-万维网概述"><span class="toc-number">4.1.</span> <span class="toc-text"> 4.1 万维网概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#42-统一资源定位符-url"><span class="toc-number">4.2.</span> <span class="toc-text"> 4.2 统一资源定位符 URL</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#43-超文本传送协议-http"><span class="toc-number">4.3.</span> <span class="toc-text"> 4.3 超文本传送协议 HTTP</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#431-http-的操作过程"><span class="toc-number">4.3.1.</span> <span class="toc-text"> 4.3.1 HTTP 的操作过程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#432-http-的主要特点"><span class="toc-number">4.3.2.</span> <span class="toc-text"> 4.3.2 HTTP 的主要特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#433-http-的报文结构"><span class="toc-number">4.3.3.</span> <span class="toc-text"> 4.3.3 HTTP 的报文结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#434-在服务器上存放用户的信息"><span class="toc-number">4.3.4.</span> <span class="toc-text"> 4.3.4 在服务器上存放用户的信息</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#44-万维网的文档"><span class="toc-number">4.4.</span> <span class="toc-text"> 4.4 万维网的文档</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#441-超文本标记语言-html"><span class="toc-number">4.4.1.</span> <span class="toc-text"> 4.4.1 超文本标记语言 HTML</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#442-动态万维网文档"><span class="toc-number">4.4.2.</span> <span class="toc-text"> 4.4.2 动态万维网文档</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#443-活动万维网文档"><span class="toc-number">4.4.3.</span> <span class="toc-text"> 4.4.3 活动万维网文档</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#444-浏览器的结构"><span class="toc-number">4.4.4.</span> <span class="toc-text"> 4.4.4 浏览器的结构</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#45-万维网的信息检索系统"><span class="toc-number">4.5.</span> <span class="toc-text"> 4.5 万维网的信息检索系统</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-电子邮件"><span class="toc-number">5.</span> <span class="toc-text"> 5 电子邮件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#51-概述"><span class="toc-number">5.1.</span> <span class="toc-text"> 5.1 概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#52-简单邮件传送协议-smtp"><span class="toc-number">5.2.</span> <span class="toc-text"> 5.2 简单邮件传送协议 SMTP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#53-电子邮件的信息格式"><span class="toc-number">5.3.</span> <span class="toc-text"> 5.3 电子邮件的信息格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#54-邮件读取协议-pop3-和-imap"><span class="toc-number">5.4.</span> <span class="toc-text"> 5.4 邮件读取协议 POP3 和 IMAP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#55-基于万维网的电子邮件"><span class="toc-number">5.5.</span> <span class="toc-text"> 5.5 基于万维网的电子邮件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#56-通用因特网邮件扩充-mime"><span class="toc-number">5.6.</span> <span class="toc-text"> 5.6 通用因特网邮件扩充 MIME</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-动态主机配置协议-dhcp"><span class="toc-number">6.</span> <span class="toc-text"> 6 动态主机配置协议 DHCP</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-简单网络管理协议-snmp"><span class="toc-number">7.</span> <span class="toc-text"> 7 简单网络管理协议 SNMP</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#71-网络管理的基本概念"><span class="toc-number">7.1.</span> <span class="toc-text"> 7.1 网络管理的基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#72-管理信息结构-smi"><span class="toc-number">7.2.</span> <span class="toc-text"> 7.2 管理信息结构 SMI</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#73-管理信息库-mib"><span class="toc-number">7.3.</span> <span class="toc-text"> 7.3 管理信息库 MIB</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#74-snmp-的协议数据单元和报文"><span class="toc-number">7.4.</span> <span class="toc-text"> 7.4 SNMP 的协议数据单元和报文</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-应用进程跨越网络的通信"><span class="toc-number">8.</span> <span class="toc-text"> 8 应用进程跨越网络的通信</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#81-系统调用和应用编程接口"><span class="toc-number">8.1.</span> <span class="toc-text"> 8.1 系统调用和应用编程接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#82-几种常用的系统调用"><span class="toc-number">8.2.</span> <span class="toc-text"> 8.2 几种常用的系统调用</span></a></li></ol></li></ol></div></div></div><main id="content-outer"><div id="top-container" style="background-image: url(https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png)"><div id="post-info"><div id="post-title"><div class="posttitle">计算机网络(气)：应用层</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 发表于 2020-02-06<span class="post-meta__separator">|</span><i class="fa fa-history fa-fw" aria-hidden="true"></i> 更新于 2020-02-06</time><span class="post-meta__separator">|</span><span><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">计算机网络</a></span><div class="post-meta-wordcount"><div class="post-meta-pv-cv"><span><i class="fa fa-eye post-meta__icon fa-fw" aria-hidden="true"> </i>阅读量:</span><span id="busuanzi_value_page_pv"></span><span class="post-meta__separator">|</span><i class="fa fa-comments-o post-meta__icon fa-fw" aria-hidden="true"></i><span>评论数:</span><a href="/2020/02/06/network-6/#post-comment"><span class="gitalk-comment-count comment-count"></span></a></div></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><h2 id="1-域名系统-dns"><a class="markdownIt-Anchor" href="#1-域名系统-dns"></a> 1 域名系统 DNS</h2>
<h3 id="11-域名系统概述"><a class="markdownIt-Anchor" href="#11-域名系统概述"></a> 1.1 域名系统概述</h3>
<p>许多应用层软件经常直接使用域名系统 DNS，但计算机的用户只是间接而不是直接使用域名系统。</p>
<p>因特网采用层次结构的命名树作为主机的名字，并使用分布式的域名系统 DNS。</p>
<p>名字到 IP 地址的解析是由若干个域名服务器程序完成的。域名服务器程序在专设的结点上运行，运行该程序的机器称为<strong>域名服务器</strong>。</p>
<p><strong>应用层协议的特点</strong></p>
<p>每个应用层协议都是为了解决某一类应用问题，而问题的解决又往往是通过位于不同主机中的多个应用进程之间的通信和协同工作来完成的。应用层的具体内容就是规定应用进程在通信时所遵循的协议。</p>
<p>应用层的许多协议都是基于客户服务器方式。客户和服务器都是指通信中所涉及的两个应用进程。客户服务器方式所描述的是进程之间服务和被服务的关系。客户是服务请求方，服务器是服务提供方。</p>
<h3 id="12-因特网的域名结构"><a class="markdownIt-Anchor" href="#12-因特网的域名结构"></a> 1.2 因特网的域名结构</h3>
<p>因特网采用了层次树状结构的命名方法。</p>
<p>任何一个连接在因特网上的主机或路由器，都有一个唯一的层次结构的名字，即域名。</p>
<p>域名的结构由标号序列组成，各标号之间用点隔开：</p>
<pre class="highlight"><code class>... .三级域名.二级域名.顶级域名
</code></pre>
<p>各标号分别代表不同级别的域名。</p>
<p><strong>域名只是个逻辑概念</strong></p>
<p>域名只是个逻辑概念，并不代表计算机所在的物理地点。</p>
<p>变长的域名和使用有助记忆的字符串，是为了便于人来使用。而 IP 地址是定长的 32 位二进制数字则非常便于机器进行处理。</p>
<p>域名中的“点”和点分十进制 IP 地址中的“点”并无一一对应的关系。点分十进制 IP 地址中一定是包含三个“点”，但每一个域名中“点”的数目则不一定正好是三个。</p>
<p><a href="/pic/network/6-1.png" data-fancybox="group" data-caption class="fancybox"><img alt data-src="/pic/network/6-1.png" class="lazyload" title></a></p>
<h3 id="13-域名服务器"><a class="markdownIt-Anchor" href="#13-域名服务器"></a> 1.3 域名服务器</h3>
<p>一个服务器所负责管辖的（或有权限的）范围叫做<strong>区</strong>(zone)。</p>
<p>各单位根据具体情况来划分自己管辖范围的区。但在一个区中的所有节点必须是能够连通的。</p>
<p>每一个区设置相应的<strong>权限域名服务器</strong>，用来保存该区中的所有主机的域名到IP地址的映射。</p>
<p>DNS 服务器的管辖范围不是以“域”为单位，而是以“区”为单位。</p>
<p><strong>区的不同划分方法举例</strong></p>
<p><a href="/pic/network/6-2.png" data-fancybox="group" data-caption class="fancybox"><img alt data-src="/pic/network/6-2.png" class="lazyload" title></a></p>
<hr>
<p><strong>树状结构的 DNS 域名服务器</strong></p>
<p><a href="/pic/network/6-3.png" data-fancybox="group" data-caption class="fancybox"><img alt data-src="/pic/network/6-3.png" class="lazyload" title></a></p>
<p>域名服务器有以下四种类型：</p>
<ol>
<li>根域名服务器</li>
<li>顶级域名服务器</li>
<li>权限域名服务器</li>
<li>本地域名服务器</li>
</ol>
<hr>
<p><strong>根域名服务器</strong>：最高层次的域名服务器</p>
<ul>
<li>根域名服务器是最重要的域名服务器。所有的根域名服务器都知道所有的顶级域名服务器的域名和 IP 地址。</li>
<li>不管是哪一个本地域名服务器，若要对因特网上任何一个域名进行解析，只要自己无法解析，就首先求助于根域名服务器。</li>
<li>在因特网上共有13 个不同 IP 地址的根域名服务器，它们的名字是用一个英文字母命名，从a 一直到 m（前13 个字母）。</li>
</ul>
<p>根域名服务器共有 13 套装置，不是 13 个机器。</p>
<p>这些根域名服务器相应的域名分别是</p>
<ul>
<li><a href="http://a.rootservers.net" target="_blank" rel="noopener">a.rootservers.net</a></li>
<li><a href="http://b.rootservers.net" target="_blank" rel="noopener">b.rootservers.net</a></li>
<li>…</li>
<li><a href="http://m.rootservers.net" target="_blank" rel="noopener">m.rootservers.net</a></li>
</ul>
<p>到 2006 年底全世界已经安装了一百多个根域名服务器机器，分布在世界各地。这样做的目的是为了方便用户，使世界上大部分 DNS 域名服务器都能<strong>就近</strong>找到一个根域名服务器。</p>
<p>根域名服务器并不直接把域名直接转换成 IP 地址。在使用迭代查询时，根域名服务器把下一步应当找的顶级域名服务器的 IP 地址告诉本地域名服务器。</p>
<p><strong>顶级域名服务器</strong></p>
<p>这些域名服务器负责管理在该顶级域名服务器注册的所有二级域名。</p>
<p>当收到 DNS 查询请求时，就给出相应的回答（可能是最后的结果，也可能是下一步应当找的域名服务器的 IP 地址）。</p>
<p><strong>权限域名服务器</strong></p>
<p>这就是前面已经讲过的负责一个区的域名服务器。</p>
<p>当一个权限域名服务器还不能给出最后的查询回答时，就会告诉发出查询请求的 DNS 客户，下一步应当找哪一个权限域名服务器。</p>
<p><strong>本地域名服务器</strong></p>
<p>本地域名服务器对域名系统非常重要。</p>
<p>当一个主机发出 DNS 查询请求时，这个查询请求报文就发送给本地域名服务器。</p>
<p>每一个因特网服务提供者 ISP，或一个大学，甚至一个大学里的系，都可以拥有一个本地域名服务器，这种域名服务器有时也称为默认域名服务器。</p>
<hr>
<p><strong>提高域名服务器的可靠性</strong></p>
<p>DNS 域名服务器都把数据复制到几个域名服务器来保存，其中的一个是<strong>主域名服务器</strong>，其他的是<strong>辅助域名服务器</strong>。</p>
<p>当主域名服务器出故障时，辅助域名服务器可以保证 DNS 的查询工作不会中断。</p>
<p>主域名服务器定期把数据复制到辅助域名服务器中，而更改数据只能在主域名服务器中进行。这样就保证了数据的一致性。</p>
<hr>
<p><strong>域名的解析过程</strong></p>
<p>主机向本地域名服务器的查询一般都是采用<strong>递归查询</strong>。如果主机所询问的本地域名服务器不知道被查询域名的 IP 地址，那么本地域名服务器就以 DNS 客户的身份，向其他根域名服务器继续发出查询请求报文。</p>
<p>本地域名服务器向根域名服务器的查询通常是采用<strong>迭代查询</strong>。当根域名服务器收到本地域名服务器的迭代查询请求报文时，要么给出所要查询的 IP 地址，要么告诉本地域名服务器：“你下一步应当向哪一个域名服务器进行查询”。然后让本地域名服务器进行后续的查询。</p>
<p><a href="/pic/network/6-4.png" data-fancybox="group" data-caption class="fancybox"><img alt data-src="/pic/network/6-4.png" class="lazyload" title></a></p>
<p><strong>域名的高速缓存</strong></p>
<p>每个域名服务器都维护一个高速缓存，存放最近用过的名字以及从何处获得名字映射信息的记录。</p>
<p>可大大减轻根域名服务器的负荷，使因特网上的 DNS 查询请求和回答报文的数量大为减少。</p>
<p>为保持高速缓存中的内容正确，域名服务器应为每项内容设置计时器，并处理超过合理时间的项（例如，每个项目只存放两天）。</p>
<p>当权限域名服务器回答一个查询请求时，在响应中都指明绑定有效存在的时间值。增加此时间值可减少网络开销，而减少此时间值可提高域名转换的准确性。</p>
<h2 id="2-文件传送协议"><a class="markdownIt-Anchor" href="#2-文件传送协议"></a> 2 文件传送协议</h2>
<h3 id="21-ftp概述"><a class="markdownIt-Anchor" href="#21-ftp概述"></a> 2.1 FTP概述</h3>
<p>文件传送协议 FTP (File Transfer Protocol) 是因特网上使用得最广泛的文件传送协议。</p>
<p>FTP 提供交互式的访问，允许客户指明文件的类型与格式，并允许文件具有存取权限。</p>
<p>FTP 屏蔽了各计算机系统的细节，因而适合于在异构网络中任意计算机之间传送文件。</p>
<p>RFC 959 很早就成为了因特网的正式标准。</p>
<p><strong>文件传送并非很简单的问题</strong></p>
<p>网络环境中的一项基本应用就是将文件从一台计算机中复制到另一台可能相距很远的计算机中。初看起来，在两个主机之间传送文件是很简单的事情。其实这往往非常困难。原因是众多的计算机厂商研制出的文<strong>件系统多达数百种，且差别很大</strong>。</p>
<h3 id="22-ftp-的基本工作原理"><a class="markdownIt-Anchor" href="#22-ftp-的基本工作原理"></a> 2.2 FTP 的基本工作原理</h3>
<p>网络环境下复制文件的复杂性：</p>
<ol>
<li>计算机存储数据的格式不同。</li>
<li>文件的目录结构和文件命名的规定不同。</li>
<li>对于相同的文件存取功能，操作系统使用的命令不同。</li>
<li>访问控制方法不同。</li>
</ol>
<p><strong>FTP 特点</strong></p>
<ul>
<li>文件传送协议 FTP 只提供文件传送的一些基本的服务，它使用 TCP 可靠的运输服务。</li>
<li>FTP 的主要功能是减少或消除在不同操作系统下处理文件的不兼容性。</li>
<li>FTP 使用<strong>客户服务器方式</strong>。一个 FTP 服务器进程可同时为多个客户进程提供服务。FTP 的服务器进程由两大部分组成：一个<strong>主进程</strong>，负责接受新的请求；另外有若干个<strong>从属进程</strong>，负责处理单个请求。</li>
</ul>
<p><strong>主进程的工作步骤</strong></p>
<ol>
<li>打开熟知端口（端口号为 21），使客户进程能够连接上。</li>
<li>等待客户进程发出连接请求。</li>
<li>启动从属进程来处理客户进程发来的请求。从属进程对客户进程的请求处理完毕后即终止，但从属进程在运行期间根据需要还可能创建其他一些子进程。</li>
<li>回到等待状态，继续接受其他客户进程发来的请求。主进程与从属进程的处理是并发地进行。</li>
</ol>
<p><strong>两个连接</strong></p>
<p><strong>控制连接</strong>在整个会话期间一直保持打开，FTP 客户发出的传送请求通过控制连接发送给服务器端的控制进程，但控制连接不用来传送文件。</p>
<p>实际用于传输文件的是“<strong>数据连接</strong>”。服务器端的控制进程在接收到 FTP 客户发送来的文件传输请求后就创建“数据传送进程”和“数据连接”，用来连接客户端和服务器端的数据传送进程。</p>
<p>数据传送进程实际完成文件的传送，在传送完毕后关闭“数据传送连接”并结束运行。</p>
<p><a href="/pic/network/6-5.png" data-fancybox="group" data-caption class="fancybox"><img alt data-src="/pic/network/6-5.png" class="lazyload" title></a></p>
<p><strong>两个不同的端口号</strong></p>
<ol>
<li>当客户进程向服务器进程发出建立连接请求时，要寻找连接服务器进程的熟知端口(21)，同时还要告诉服务器进程自己的另一个端口号码，用于建立数据传送连接。</li>
<li>接着，服务器进程用自己传送数据的熟知端口(20)与客户进程所提供的端口号码建立数据传送连接。</li>
</ol>
<p>由于 FTP 使用了两个不同的端口号，所以数据连接与控制连接不会发生混乱。</p>
<p><strong>使用两个不同端口号的好处</strong></p>
<ul>
<li>使协议更加简单和更容易实现。</li>
<li>在传输文件时还可以利用控制连接（例如，客户发送请求终止传输）。</li>
</ul>
<p><strong>NFS 采用另一种思路</strong></p>
<ul>
<li>NFS 允许应用进程打开一个远地文件，并能在该文件的某一个特定的位置上开始读写数据。</li>
<li>NFS 可使用户只复制一个大文件中的一个很小的片段，而不需要复制整个大文件。</li>
<li>对于上述例子，计算机 A 的 NFS 客户软件，把要添加的数据和在文件后面写数据的请求一起发送到远地的计算机 B 的 NFS 服务器。NFS 服务器更新文件后返回应答信息。</li>
<li>在网络上传送的只是少量的修改数据。</li>
</ul>
<h3 id="23-简单文件传送协议-tftp"><a class="markdownIt-Anchor" href="#23-简单文件传送协议-tftp"></a> 2.3 简单文件传送协议 TFTP</h3>
<p>TFTP 是一个很小且易于实现的文件传送协议。</p>
<p>TFTP 使用客户服务器方式和使用 UDP 数据报，因此 TFTP 需要有自己的差错改正措施。</p>
<p>TFTP 只支持文件传输而不支持交互。</p>
<p>TFTP 没有一个庞大的命令集，没有列目录的功能，也不能对用户进行身份鉴别。</p>
<p><strong>TFTP 的主要特点</strong></p>
<ul>
<li>每次传送的数据 PDU 中有 512 字节的数据，但最后一次可不足 512 字节。</li>
<li>数据 PDU 也称为文件块(block)，每个块按序编号，从 1 开始。</li>
<li>支持 ASCII 码或二进制传送。</li>
<li>可对文件进行读或写。</li>
<li>使用很简单的首部。</li>
</ul>
<p><strong>TFTP 的工作很像停止等待协议</strong></p>
<ol>
<li>发送完一个文件块后就等待对方的确认，确认时应指明所确认的块编号。</li>
<li>发完数据后在规定时间内收不到确认就要重发数据 PDU。</li>
<li>发送确认 PDU 的一方若在规定时间内收不到下一个文件块，也要重发确认 PDU。这样就可保证文件的传送不致因某一个数据报的丢失而告失败。</li>
<li>在一开始工作时。TFTP 客户进程发送一个读请求 PDU 或写请求 PDU 给 TFTP 服务器进程，其熟知端口号码为 69。</li>
<li>TFTP 服务器进程要选择一个新的端口和 TFTP 客户进程进行通信。</li>
<li>若文件长度恰好为 512 字节的整数倍，则在文件传送完毕后，还必须在最后发送一个只含首部而无数据的数据 PDU。</li>
<li>若文件长度不是 512 字节的整数倍，则最后传送数据 PDU 的数据字段一定不满512字节，这正好可作为文件结束的标志。</li>
</ol>
<h2 id="3-远程终端协议-telnet"><a class="markdownIt-Anchor" href="#3-远程终端协议-telnet"></a> 3 远程终端协议 TELNET</h2>
<p>TELNET 是一个简单的远程终端协议，也是因特网的正式标准。</p>
<p>用户用 TELNET 就可在其所在地通过 TCP 连接注册（即登录）到远地的另一个主机上（使用主机名或 IP 地址）。</p>
<p>TELNET 能将用户的击键传到远地主机，同时也能将远地主机的输出通过 TCP 连接返回到用户屏幕。这种服务是透明的，因为用户感觉到好像键盘和显示器是直接连在远地主机上。</p>
<p><strong>客户服务器方式</strong></p>
<p>现在由于 PC 机的功能越来越强，用户已较少使用 TELNET 了。</p>
<p>TELNET 也使用客户服务器方式。在本地系统运行 TELNET 客户进程，而在远地主机则运行 TELNET 服务器进程。</p>
<p>和 FTP 的情况相似，服务器中的主进程等待新的请求，并产生从属进程来处理每一个连接。</p>
<p><a href="/pic/network/6-6.png" data-fancybox="group" data-caption class="fancybox"><img alt data-src="/pic/network/6-6.png" class="lazyload" title></a></p>
<p><strong>网络虚拟终端 NVT 格式</strong></p>
<p>客户软件把用户的击键和命令转换成 NVT 格式，并送交服务器。</p>
<p>服务器软件把收到的数据和命令，从 NVT 格式转换成远地系统所需的格式。</p>
<p>向用户返回数据时，服务器把远地系统的格式转换为 NVT 格式，本地客户再从 NVT 格式转换到本地系统所需的格式。</p>
<h2 id="4-万维网-www"><a class="markdownIt-Anchor" href="#4-万维网-www"></a> 4 万维网 WWW</h2>
<h3 id="41-万维网概述"><a class="markdownIt-Anchor" href="#41-万维网概述"></a> 4.1 万维网概述</h3>
<p>万维网 WWW (World Wide Web)并非某种特殊的计算机网络。万维网是一个大规模的、联机式的信息储藏所。</p>
<p>万维网用链接的方法能非常方便地从因特网上的一个站点访问另一个站点，从而主动地按需获取丰富的信息。这种访问方式称为“<strong>链接</strong>”。</p>
<p><strong>万维网提供分布式服务</strong></p>
<p><a href="/pic/network/6-7.png" data-fancybox="group" data-caption class="fancybox"><img alt data-src="/pic/network/6-7.png" class="lazyload" title></a></p>
<p><strong>超媒体与超文本</strong></p>
<ul>
<li>万维网是<strong>分布式超媒体</strong>(hypermedia)系统，它是<strong>超文本</strong>(hypertext)系统的扩充。</li>
<li>一个超文本由多个信息源链接成。利用一个链接可使用户找到另一个文档。这些文档可以位于世界上任何一个接在因特网上的超文本系统中。超文本是万维网的基础。</li>
<li>超媒体与超文本的区别是<strong>文档内容不同</strong>。超文本文档仅包含文本信息，而超媒体文档还包含其他表示方式的信息，如图形、图像、声音、动画，甚至活动视频图像。</li>
</ul>
<p><strong>万维网的工作方式</strong></p>
<ul>
<li>万维网以客户服务器方式工作。</li>
<li><strong>浏览器</strong>就是在用户计算机上的万维网<strong>客户程序</strong>。万维网文档所驻留的计算机则运行<strong>服务器程序</strong>，因此这个计算机也称为<strong>万维网服务器</strong>。</li>
<li>客户程序向服务器程序发出请求，服务器程序向客户程序送回客户所要的万维网文档。</li>
<li>在一个客户程序主窗口上显示出的万维网文档称为<strong>页面</strong>(page)。</li>
</ul>
<hr>
<p><strong>万维网必须解决的问题</strong></p>
<p>（1）怎样标志分布在整个因特网上的万维网文档？</p>
<ul>
<li>使用<strong>统一资源定位符 URL</strong> (Uniform Resource Locator)来标志万维网上的各种文档。</li>
<li>使每一个文档在整个因特网的范围内具有唯一的标识符 URL。</li>
</ul>
<p>（2）用何协议实现万维网上各种超链的链接？</p>
<ul>
<li>在万维网客户程序与万维网服务器程序之间进行交互所使用的协议，是<strong>超文本传送协议 HTTP</strong> (HyperText Transfer Protocol)。</li>
<li>HTTP 是一个应用层协议，它使用 TCP 连接进行可靠的传送。</li>
</ul>
<p>（3）怎样使各种万维网文档都能在因特网上的各种计算机上显示出来，同时使用户清楚地知道在什么地方存在着超链？</p>
<p>超文本标记语言 HTML (HyperText Markup Language)使得万维网页面的设计者可以很方便地用一个超链从本页面的某处链接到因特网上的任何一个万维网页面，并且能够在自己的计算机屏幕上将这些页面显示出来。</p>
<p>（4）怎样使用户能够很方便地找到所需的信息？</p>
<p>为了在万维网上方便地查找信息，用户可使用各种的搜索工具（即搜索引擎）。</p>
<h3 id="42-统一资源定位符-url"><a class="markdownIt-Anchor" href="#42-统一资源定位符-url"></a> 4.2 统一资源定位符 URL</h3>
<p>统一资源定位符 URL 是对可以从因特网上得到的资源的位置和访问方法的一种简洁的表示。</p>
<p>URL 给资源的位置提供一种抽象的识别方法，并用这种方法给资源定位。</p>
<p>只要能够对资源定位，系统就可以对资源进行各种操作，如存取、更新、替换和查找其属性。</p>
<p>URL 相当于一个文件名在网络范围的扩展。因此 URL 是与因特网相连的机器上的任何可访问对象的一个指针。</p>
<p><strong>URL 的一般形式</strong></p>
<p>由以冒号隔开的两大部分组成，并且在 URL 中的字符对大写或小写没有要求。</p>
<pre class="highlight"><code class>&lt;协议&gt;://&lt;主机&gt;:&lt;端口&gt;/&lt;路径&gt; 
</code></pre>
<p>协议：ftp —— 文件传送协议 FTP；http —— 超文本传送协议 HTTP；News —— USENET 新闻</p>
<p>主机：是存放资源的主机在因特网中的域名。</p>
<p>端口和路径有时可省略。</p>
<p><strong>使用 HTTP 的 URL</strong></p>
<pre class="highlight"><code class>http://&lt;主机&gt;:&lt;端口&gt;/&lt;路径&gt; 
</code></pre>
<p>其中“😕/”是规定的格式；主机填写域名；HTTP的默认端口是80，通常可以省略；若再省略文件的&lt;路径&gt;选项，则URL就指到因特网的某个主页(home page)。</p>
<h3 id="43-超文本传送协议-http"><a class="markdownIt-Anchor" href="#43-超文本传送协议-http"></a> 4.3 超文本传送协议 HTTP</h3>
<h4 id="431-http-的操作过程"><a class="markdownIt-Anchor" href="#431-http-的操作过程"></a> 4.3.1 HTTP 的操作过程</h4>
<p>为了使超文本的链接能够高效率地完成，需要用 HTTP 协议来传送一切必须的信息。</p>
<p>从层次的角度看，HTTP 是<strong>面向事务的</strong>应用层协议，它是万维网上能够可靠地交换文件（包括文本、声音、图像等各种多媒体文件）的重要基础。</p>
<p><strong>万维网的工作过程</strong></p>
<p><a href="/pic/network/6-8.png" data-fancybox="group" data-caption class="fancybox"><img alt data-src="/pic/network/6-8.png" class="lazyload" title></a></p>
<p><strong>用户点击鼠标后所发生的事件</strong></p>
<ol>
<li>浏览器分析超链指向页面的 URL。</li>
<li>浏览器向 DNS 请求解析 <a href="http://www.tsinghua.edu.cn" target="_blank" rel="noopener">www.tsinghua.edu.cn</a> 的 IP 地址。</li>
<li>域名系统 DNS 解析出清华大学服务器的 IP 地址。</li>
<li>浏览器与服务器建立 TCP 连接</li>
<li>浏览器发出取文件命令：GET /chn/yxsz/index.htm。</li>
<li>服务器给出响应，把文件 index.htm 发给浏览器。</li>
<li>TCP 连接释放。</li>
<li>浏览器显示“清华大学院系设置”文件 index.htm 中的所有文本。</li>
</ol>
<h4 id="432-http-的主要特点"><a class="markdownIt-Anchor" href="#432-http-的主要特点"></a> 4.3.2 HTTP 的主要特点</h4>
<ul>
<li>HTTP 是面向事务的客户服务器协议。</li>
<li>HTTP 1.0 协议是无状态的(stateless)。</li>
<li>HTTP 协议本身也是无连接的，虽然它使用了面向连接的 TCP 向上提供的服务。</li>
</ul>
<p><strong>请求一个万维网文档所需的时间</strong></p>
<p><a href="/pic/network/6-9.png" data-fancybox="group" data-caption class="fancybox"><img alt data-src="/pic/network/6-9.png" class="lazyload" title></a></p>
<p><strong>持续连接</strong></p>
<p>HTTP/1.1 协议使用持续连接。</p>
<p>万维网服务器在发送响应后仍然在一段时间内保持这条连接，使同一个客户（浏览器）和该服务器可以继续在这条连接上传送后续的 HTTP 请求报文和响应报文。这并不局限于传送同一个页面上链接的文档，而是只要这些文档都在同一个服务器上就行。</p>
<p>目前一些流行的浏览器（例如，IE 6.0）的默认设置就是使用 HTTP/1.1。</p>
<p><strong>持续连接的两种工作方式</strong></p>
<ul>
<li><strong>非流水线方式</strong>：客户在收到前一个响应后才能发出下一个请求。这比非持续连接的两倍 RTT 的开销节省了建立 TCP 连接所需的一个 RTT 时间。但服务器在发送完一个对象后，其 TCP 连接就处于空闲状态，浪费了服务器资源。</li>
<li><strong>流水线方式</strong>：客户在收到 HTTP 的响应报文之前就能够接着发送新的请求报文。一个接一个的请求报文到达服务器后，服务器就可连续发回响应报文。使用流水线方式时，客户访问所有的对象只需花费一个 RTT时间，使 TCP 连接中的空闲时间减少，提高了下载文档效率。</li>
</ul>
<hr>
<p><strong>代理服务器</strong></p>
<p>代理服务器(proxy server)又称为万维网<strong>高速缓存</strong>(Web cache)，它代表浏览器发出 HTTP 请求。</p>
<p>万维网高速缓存把最近的一些请求和响应暂存在本地磁盘中。</p>
<p>当与暂时存放的请求相同的新请求到达时，万维网高速缓存就把暂存的响应发送出去，而不需要按 URL 的地址再去因特网访问该资源。</p>
<p><strong>使用高速缓存可减少访问因特网服务器的时延</strong></p>
<p><a href="/pic/network/6-10.png" data-fancybox="group" data-caption class="fancybox"><img alt data-src="/pic/network/6-10.png" class="lazyload" title></a></p>
<p><strong>使用高速缓存的情况</strong></p>
<p><a href="/pic/network/6-11.png" data-fancybox="group" data-caption class="fancybox"><img alt data-src="/pic/network/6-11.png" class="lazyload" title></a></p>
<ol>
<li>浏览器访问因特网的服务器时，要先与校园网的高速缓存建立 TCP 连接，并向高速缓存发出 HTTP 请求报文。</li>
<li>若高速缓存已经存放了所请求的对象，则将此对象放入 HTTP 响应报文中返回给浏览器。</li>
<li>否则，高速缓存就代表发出请求的用户浏览器，与因特网上的源点服务器建立 TCP 连接，并发送 HTTP 请求报文。</li>
<li>源点服务器将所请求的对象放在 HTTP 响应报文中返回给校园网的高速缓存。</li>
<li>高速缓存收到此对象后，先复制在其本地存储器中（为今后使用），然后再将该对象放在 HTTP 响应报文中，通过已建立的 TCP 连接，返回给请求该对象的浏览器。</li>
</ol>
<h4 id="433-http-的报文结构"><a class="markdownIt-Anchor" href="#433-http-的报文结构"></a> 4.3.3 HTTP 的报文结构</h4>
<p>HTTP 有两类报文：</p>
<ul>
<li><strong>请求报文</strong>：从客户向服务器发送请求报文。</li>
<li><strong>响应报文</strong>：从服务器到客户的回答。</li>
</ul>
<p>由于 HTTP 是面向正文的(text-oriented)，因此在报文中的每一个字段都是一些 ASCII 码串，因而每个字段的长度都是不确定的。</p>
<hr>
<p><strong>请求报文</strong></p>
<p><a href="/pic/network/6-12.png" data-fancybox="group" data-caption class="fancybox"><img alt data-src="/pic/network/6-12.png" class="lazyload" title></a></p>
<p>报文由三个部分组成，即开始行、首部行和实体主体。在请求报文中，开始行就是请求行。</p>
<p><strong>方法</strong>：是面向对象技术中使用的专门名词。所谓“方法”就是<strong>对所请求的对象进行的操作</strong>，因此这些方法实际上也就是一些<strong>命令</strong>。因此，请求报文的类型是由它所采用的方法决定的。</p>
<table>
<thead>
<tr>
<th>方法（操作）</th>
<th>意义</th>
</tr>
</thead>
<tbody>
<tr>
<td>OPTION</td>
<td>请求一些选项的信息</td>
</tr>
<tr>
<td>GET</td>
<td>请求读取由 URL所标志的信息</td>
</tr>
<tr>
<td>HEAD</td>
<td>请求读取由 URL所标志的信息的首部</td>
</tr>
<tr>
<td>POST</td>
<td>给服务器添加信息（例如，注释）</td>
</tr>
<tr>
<td>PUT</td>
<td>在指明的 URL下存储一个文档</td>
</tr>
<tr>
<td>DELETE</td>
<td>删除指明的 URL所标志的资源</td>
</tr>
<tr>
<td>TRACE</td>
<td>用来进行环回测试的请求报文</td>
</tr>
<tr>
<td>CONNECT</td>
<td>用于代理服务器</td>
</tr>
</tbody>
</table>
<p><strong>URL</strong>：是所请求的资源的 URL。</p>
<p><strong>版本</strong>：是 HTTP 的版本。</p>
<p><strong>响应报文</strong></p>
<p><a href="/pic/network/6-13.png" data-fancybox="group" data-caption class="fancybox"><img alt data-src="/pic/network/6-13.png" class="lazyload" title></a></p>
<p>响应报文的开始行是状态行。状态行包括三项内容，即 HTTP 的版本，状态码，以及解释状态码的简单短语。</p>
<p>状态码都是三位数字</p>
<ul>
<li>1xx 表示通知信息的，如请求收到了或正在进行处理。</li>
<li>2xx 表示成功，如接受或知道了。</li>
<li>3xx 表示重定向，表示要完成请求还必须采取进一步的行动。</li>
<li>4xx 表示客户的差错，如请求中有错误的语法或不能完成。</li>
<li>5xx 表示服务器的差错，如服务器失效无法完成请求。</li>
</ul>
<h4 id="434-在服务器上存放用户的信息"><a class="markdownIt-Anchor" href="#434-在服务器上存放用户的信息"></a> 4.3.4 在服务器上存放用户的信息</h4>
<p>万维网站点使用 Cookie 来跟踪用户。</p>
<p>Cookie 表示在 HTTP 服务器和客户之间传递的状态信息。</p>
<p>使用 Cookie 的网站服务器为用户产生一个唯一的识别码。利用此识别码，网站就能够跟踪该用户在该网站的活动。</p>
<h3 id="44-万维网的文档"><a class="markdownIt-Anchor" href="#44-万维网的文档"></a> 4.4 万维网的文档</h3>
<h4 id="441-超文本标记语言-html"><a class="markdownIt-Anchor" href="#441-超文本标记语言-html"></a> 4.4.1 超文本标记语言 HTML</h4>
<p>超文本标记语言 HTML 中的 Markup 的意思就是“设置标记”。</p>
<p>HTML 定义了许多用于排版的命令（即标签）。</p>
<p>HTML 把各种标签嵌入到万维网的页面中。这样就构成了所谓的 HTML 文档。HTML 文档是一种可以用任何文本编辑器创建的 ASCII 码文件。</p>
<p><strong>HTML 文档</strong></p>
<ul>
<li>仅当 HTML 文档是以.html 或 .htm 为后缀时，浏览器才对此 文档的各种标签进行解释。</li>
<li>如 HTML 文档改换以 .txt 为其后缀，则 HTML 解释程序就不对标签进行解释，而浏览器只能看见原来的文本文件。</li>
<li>当浏览器从服务器读取 HTML 文档后，就按照 HTML 文档中的各种标签，根据浏览器所使用的显示器的尺寸和分辨率大小，重新进行排版并恢复出所读取的页面。</li>
</ul>
<p><strong>两种不同的链接</strong></p>
<ul>
<li><strong>远程链接</strong>：超链的终点是其他网点上的页面。</li>
<li><strong>本地链接</strong>：超链指向本计算机中的某个文件。</li>
</ul>
<h4 id="442-动态万维网文档"><a class="markdownIt-Anchor" href="#442-动态万维网文档"></a> 4.4.2 动态万维网文档</h4>
<p><strong>静态文档</strong>是指该文档创作完毕后就存放在万维网服务器中，在被用户浏览的过程中，内容不会改变。</p>
<p><strong>动态文档</strong>是指文档的内容是在浏览器访问万维网服务器时才由应用程序动态创建。</p>
<p>动态文档和静态文档之间的主要差别体现在<strong>服务器</strong>一端。这主要是文档内容的生成方法不同。而从浏览器的角度看，这两种文档并没有区别。</p>
<p><strong>万维网服务器功能的扩充</strong></p>
<ol>
<li>应增加另一个应用程序，用来处理浏览器发来的数据，并创建动态文档。</li>
<li>应增加一个机制，用来使万维网服务器把浏览器发来的数据传送给这个应用程序，然后万维网服务器能够解释这个应用程序的输出，并向浏览器返回 HTML 文档。</li>
</ol>
<p><a href="/pic/network/6-14.png" data-fancybox="group" data-caption class="fancybox"><img alt data-src="/pic/network/6-14.png" class="lazyload" title></a></p>
<p><strong>通用网关接口 CGI</strong></p>
<p>CGI 是一种标准，它定义了动态文档应如何创建，输入数据应如何提供给应用程序，以及输出结果应如何使用。</p>
<p>万维网服务器与 CGI 的通信遵循 CGI 标准。</p>
<ul>
<li>“通用”：CGI 标准所定义的规则对其他任何语言都是通用的。</li>
<li>“网关”：CGI 程序的作用像网关。</li>
<li>“接口”：有一些已定义好的变量和调用等可供其他 CGI 程序使用</li>
</ul>
<p><strong>CGI 程序</strong></p>
<p>CGI 程序的正式名字是 CGI 脚本(script)。</p>
<p>“<strong>脚本</strong>”指的是一个程序，它被另一个程序（解释程序）而不是计算机的处理机来解释或执行。</p>
<p>脚本运行起来要比一般的编译程序要慢，因为它的每一条指令先要被另一个程序来处理（这就要一些附加的指令），而不是直接被指令处理器来处理。</p>
<h4 id="443-活动万维网文档"><a class="markdownIt-Anchor" href="#443-活动万维网文档"></a> 4.4.3 活动万维网文档</h4>
<p>活动文档(active document)技术把所有的工作都转移给浏览器端。</p>
<p>每当浏览器请求一个活动文档时，服务器就返回一段程序副本在浏览器端运行。</p>
<p>活动文档程序可与用户直接交互，并可连续地改变屏幕的显示。</p>
<p>由于活动文档技术不需要服务器的连续更新传送，对网络带宽的要求也不会太高。</p>
<p><a href="/pic/network/6-15.png" data-fancybox="group" data-caption class="fancybox"><img alt data-src="/pic/network/6-15.png" class="lazyload" title></a></p>
<h4 id="444-浏览器的结构"><a class="markdownIt-Anchor" href="#444-浏览器的结构"></a> 4.4.4 浏览器的结构</h4>
<p><a href="/pic/network/6-16.png" data-fancybox="group" data-caption class="fancybox"><img alt data-src="/pic/network/6-16.png" class="lazyload" title></a></p>
<p><strong>浏览器的主要组成部分</strong></p>
<p>浏览器有一组客户、一组解释程序，以及管理这些客户和解释程序的控制程序。控制程序是其中的核心部件，它解释鼠标的点击和键盘的输入，并调用有关的组件来执行用户指定的操作。</p>
<p>例如，当用户用鼠标点击一个超链的起点时，控制程序就调用一个客户从所需文档所在的远地服务器上取回该文档，并调用解释程序向用户显示该文档。</p>
<p><strong>解释程序</strong></p>
<p>HTML 解释程序是必不可少的，而其他的解释程序则是可选的。 解释程序把 HTML 规格转换为适合用户显示硬件的命令来处理版面的细节。 许多浏览器还包含 FTP 客户程序，用来获取文件传送服务。一些浏览器也包含电子邮件客户程序，使浏览器能够发送和接收电子邮件。</p>
<p><strong>浏览器中的缓存</strong></p>
<p>浏览器将它取回的每一个页面副本都放入本地磁盘的缓存中。当用户用鼠标点击某个选项时，浏览器首先检查磁盘的缓存。若缓存中保存了该项，浏览器就直接从缓存中得到该项副本而不必从网络获取，这样就明显地改善浏览器的运行特性。</p>
<p>但缓存要占用磁盘大量的空间，而浏览器性能的改善只有在用户再次查看缓存中的页面时才有帮助。许多浏览器允许用户调整缓存策略。</p>
<h3 id="45-万维网的信息检索系统"><a class="markdownIt-Anchor" href="#45-万维网的信息检索系统"></a> 4.5 万维网的信息检索系统</h3>
<p>在万维网中用来进行搜索的程序叫做搜索引擎。</p>
<p><strong>全文检索搜索</strong></p>
<p>全文检索搜索引擎是一种纯技术型的检索工具。它的工作原理是通过搜索软件到因特网上的各网站收集信息，找到一个网站后可以从这个网站再链接到另一个网站。然后按照一定的规则建立一个很大的在线数据库供用户查询。</p>
<p>用户在查询时只要输入关键词，就从已经建立的索引数据库上进行查询（并不是实时地在因特网上检索到的信息）。</p>
<p><strong>分类目录搜索</strong></p>
<p>分类目录搜索引擎并不采集网站的任何信息，而是利用各网站向搜索引擎提交的网站信息时填写的关键词和网站描述等信息，经过人工审核编辑后，如果认为符合网站登录的条件，则输入到分类目录的数据库中，供网上用户查询。</p>
<p>分类目录搜索也叫做分类网站搜索。</p>
<p><strong>垂直搜索引擎</strong></p>
<p>针对某一特定领域、特定人群或某一特定需求提供搜索服务。垂直搜索也是提供关键字来进行搜索的，但被放到了一个行业知识的上下文中，返回的结果更倾向于信息、消息、条目等。</p>
<h2 id="5-电子邮件"><a class="markdownIt-Anchor" href="#5-电子邮件"></a> 5 电子邮件</h2>
<h3 id="51-概述"><a class="markdownIt-Anchor" href="#51-概述"></a> 5.1 概述</h3>
<p>电子邮件(e-mail)是因特网上使用得最多的和最受用户欢迎的一种应用。电子邮件把邮件发送到收件人使用的邮件服务器，并放在其中的收件人邮箱中，收件人可随时上网到自己使用的邮件服务器进行读取。</p>
<p>电子邮件不仅使用方便，而且还具有传递迅速和费用低廉的优点。现在电子邮件不仅可传送文字信息，而且还可附上声音和图像。</p>
<p><strong>电子邮件的标准</strong></p>
<ul>
<li>发送邮件的协议：SMTP</li>
<li>读取邮件的协议：POP3 和 IMAP</li>
<li>MIME 在其邮件首部中说明了邮件的数据类型(如文本、声音、图像、视像等)，使用 MIME 可在邮件中同时传送多种类型的数据。</li>
</ul>
<p><strong>电子邮件的最主要的组成构件</strong></p>
<p><a href="/pic/network/6-17.png" data-fancybox="group" data-caption class="fancybox"><img alt data-src="/pic/network/6-17.png" class="lazyload" title></a></p>
<p><strong>用户代理 UA (User Agent)</strong></p>
<ul>
<li>用户代理 UA 就是用户与电子邮件系统的接口，是电子邮件客户端软件。</li>
<li>用户代理的功能：撰写、显示、处理和通信。</li>
<li>邮件服务器的功能是发送和接收邮件，同时还要向发信人报告邮件传送的情况（已交付、被拒绝、丢失等）。</li>
<li>邮件服务器按照客户服务器方式工作。邮件服务器需要使用发送和读取两个不同的协议。</li>
</ul>
<p>一个邮件服务器既可以作为客户，也可以作为服务器。例如，当邮件服务器 A 向另一个邮件服务器 B 发送邮件时，邮件服务器 A 就作为 SMTP 客户，而 B 是 SMTP 服务器；当邮件服务器 A 从另一个邮件服务器 B 接收邮件时，邮件服务器 A 就作为 SMTP 服务器，而 B 是 SMTP 客户。</p>
<p><strong>发送和接收电子邮件的重要步骤</strong></p>
<ol>
<li>发件人调用 PC 机中的用户代理撰写和编辑要发送的邮件。</li>
<li>发件人的用户代理把邮件用 SMTP 协议发给发送方邮件服务器，</li>
<li>SMTP 服务器把邮件临时存放在邮件缓存队列中，等待发送。</li>
<li>发送方邮件服务器的 SMTP 客户与接收方邮件服务器的 SMTP 服务器建立 TCP 连接，然后就把邮件缓存队列中的邮件依次发送出去。</li>
<li>运行在接收方邮件服务器中的SMTP服务器进 程收到邮件后，把邮件放入收件人的用户邮箱中，等待收件人进行读取。</li>
<li>收件人在打算收信时，就运行 PC 机中的用户代理，使用 POP3（或 IMAP）协议读取发送给自己的邮件。</li>
<li>请注意，POP3 服务器和 POP3 客户之间的通信是由 POP3 客户发起的。</li>
</ol>
<p><strong>电子邮件的组成</strong></p>
<p>电子邮件由<strong>信封</strong>(envelope)和<strong>内容</strong>(content)两部分组成。</p>
<p>电子邮件的传输程序根据邮件信封上的信息来传送邮件。用户在从自己的邮箱中读取邮件时才能见到邮件的内容。在邮件的信封上，最重要的就是收件人的地址。</p>
<p><strong>电子邮件地址的格式</strong></p>
<p>TCP/IP 体系的电子邮件系统规定电子邮件地址的格式如下：</p>
<pre class="highlight"><code class>收件人邮箱名@邮箱所在主机的域名
</code></pre>
<p>邮箱所在的主机的域名在全世界必须是唯一的，用户名在该域名的范围内是唯一的。</p>
<h3 id="52-简单邮件传送协议-smtp"><a class="markdownIt-Anchor" href="#52-简单邮件传送协议-smtp"></a> 5.2 简单邮件传送协议 SMTP</h3>
<p>SMTP 所规定的就是在两个相互通信的 SMTP 进程之间应如何交换信息。</p>
<p>由于 SMTP 使用客户服务器方式，因此负责发送邮件的 SMTP 进程就是 SMTP 客户，而负责接收邮件的 SMTP 进程就是 SMTP 服务器。</p>
<p>SMTP 规定了 14 条命令和 21 种应答信息。每条命令用 4 个字母组成，而每一种应答信息一般只有一行信息，由一个 3 位数字的代码开始，后面附上（也可不附上）很简单的文字说明。</p>
<p><strong>SMTP 通信的三个阶段</strong></p>
<ol>
<li>连接建立：连接是在发送主机的 SMTP 客户和接收主机的 SMTP 服务器之间建立的。SMTP不使用中间的邮件服务器。</li>
<li>邮件传送</li>
<li>连接释放：邮件发送完毕后，SMTP 应释放 TCP 连接。</li>
</ol>
<h3 id="53-电子邮件的信息格式"><a class="markdownIt-Anchor" href="#53-电子邮件的信息格式"></a> 5.3 电子邮件的信息格式</h3>
<p>一个电子邮件分为<strong>信封</strong>和<strong>内容</strong>两大部分。</p>
<p>RFC 822 只规定了邮件内容中的首部(header)格式，而对邮件的主体(body)部分则让用户自由撰写。</p>
<p>用户写好首部后，邮件系统将自动地将信封所需的信息提取出来并写在信封上。所以用户不需要填写电子邮件信封上的信息。</p>
<p><strong>邮件内容的首部</strong></p>
<ul>
<li>“To:”后面填入一个或多个收件人的电子邮件地址。用户只需打开地址簿，点击收件人名字，收件人的电子邮件地址就会自动地填入到合适的位置上。</li>
<li>“Subject:”是邮件的主题。它反映了邮件的主要内容，便于用户查找邮件。</li>
<li>抄送 “Cc:” 表示应给某某人发送一个邮件副本。</li>
<li>“From” 和 “Date” 表示发信人的电子邮件地址和发信日期。“Reply-To” 是对方回信所用的地址。</li>
</ul>
<h3 id="54-邮件读取协议-pop3-和-imap"><a class="markdownIt-Anchor" href="#54-邮件读取协议-pop3-和-imap"></a> 5.4 邮件读取协议 POP3 和 IMAP</h3>
<p>邮局协议 POP 是一个非常简单、但功能有限的邮件读取协议，现在使用的是它的第三个版本 POP3。</p>
<p>POP 也使用客户服务器的工作方式。在接收邮件的用户 PC 机中必须运行 POP 客户程序，而在用户所连接的 ISP 的邮件服务器中则运行 POP 服务器程序。</p>
<p><strong>IMAP 协议</strong></p>
<p>IMAP 也是按客户服务器方式工作，现在较新的是版本 4，即 IMAP4。</p>
<p>用户在自己的 PC 机上就可以操纵 ISP 的邮件服务器的邮箱，就像在本地操纵一样。因此 IMAP 是一个联机协议。当用户 PC 机上的 IMAP 客户程序打开 IMAP 服务器的邮箱时，用户就可看到邮件的首部。若用户需要打开某个邮件，则该邮件才传到用户的计算机上。</p>
<p><strong>IMAP 的特点</strong></p>
<p>IMAP最大的好处就是用户可以在不同的地方使用不同的计算机随时上网阅读和处理自己的邮件。</p>
<p>IMAP 还允许收件人只读取邮件中的某一个部分。例如，收到了一个带有视像附件（此文件可能很大）的邮件。为了节省时间，可以先下载邮件的正文部分，待以后有时间再读取或下载这个很长的附件。</p>
<p>IMAP 的缺点是如果用户没有将邮件复制到自己的 PC 机上，则邮件一直是存放在 IMAP 服务器上。因此用户需要经常与 IMAP 服务器建立连接。</p>
<p><strong>注意事项</strong></p>
<p>不要将邮件读取协议 POP 或 IMAP 与邮件传送协议 SMTP 弄混。</p>
<p>发信人的用户代理向源邮件服务器发送邮件，以及源邮件服务器向目的邮件服务器发送邮件，都是使用 SMTP 协议。而 POP 协议或 IMAP 协议则是用户从目的邮件服务器上读取邮件所使用的协议。</p>
<h3 id="55-基于万维网的电子邮件"><a class="markdownIt-Anchor" href="#55-基于万维网的电子邮件"></a> 5.5 基于万维网的电子邮件</h3>
<p>电子邮件从 A 发送到网易邮件服务器是使用 HTTP 协议。</p>
<p>两个邮件服务器之间的传送使用 SMTP。</p>
<p>邮件从新浪邮件服务器传送到 B 是使用 HTTP 协议。</p>
<p><a href="/pic/network/6-18.png" data-fancybox="group" data-caption class="fancybox"><img alt data-src="/pic/network/6-18.png" class="lazyload" title></a></p>
<h3 id="56-通用因特网邮件扩充-mime"><a class="markdownIt-Anchor" href="#56-通用因特网邮件扩充-mime"></a> 5.6 通用因特网邮件扩充 MIME</h3>
<p>SMTP 有以下缺点：</p>
<ul>
<li>SMTP 不能传送可执行文件或其他的二进制对象。</li>
<li>SMTP 限于传送 7 位的 ASCII 码。许多其他非英语国家的文字（如中文、俄文，甚至带重音符号的法文或德文）就无法传送。</li>
<li>SMTP 服务器会拒绝超过一定长度的邮件。</li>
<li>某些 SMTP 的实现并没有完全按照[RFC 821]的 SMTP 标准。</li>
</ul>
<p><strong>MIME 的特点</strong></p>
<p>MIME 并没有改动 SMTP 或取代它。MIME 的意图是继续使用目前的[RFC 822]格式，但增加了邮件主体的结构，并定义了传送非 ASCII 码的编码规则。</p>
<p><strong>MIME 和 SMTP 的关系</strong></p>
<p><a href="/pic/network/6-19.png" data-fancybox="group" data-caption class="fancybox"><img alt data-src="/pic/network/6-19.png" class="lazyload" title></a></p>
<p><strong>MIME 主要包括三个部分</strong></p>
<ol>
<li>5 个新的邮件首部字段，它们可包含在[RFC 822]首部中。这些字段提供了有关邮件主体的信息。</li>
<li>定义了许多邮件内容的格式，对多媒体电子邮件的表示方法进行了标准化。</li>
<li>定义了传送编码，可对任何内容格式进行转换，而不会被邮件系统改变。</li>
</ol>
<p><strong>MIME 增加 5 个新的邮件首部</strong></p>
<ol>
<li>MIME-Version: 标志 MIME 的版本。现在的版本号是 1.0。若无此行，则为英文文本。</li>
<li>Content-Description: 这是可读字符串，说明此邮件是什么。和邮件的主题差不多。</li>
<li>Content-Id: 邮件的唯一标识符。</li>
<li>Content-Transfer-Encoding: 在传送时邮件的主体是如何编码的。</li>
<li>Content-Type: 说明邮件的性质。</li>
</ol>
<hr>
<p><strong>内容传送编码</strong></p>
<p>最简单的编码就是 7 位 ASCII 码，而每行不能超过 1000 个字符。MIME 对这种由 ASCII 码构成的邮件主体不进行任何转换。</p>
<p>另一种编码称为 quoted-printable，这种编码方法适用于当所传送的数据中只有少量的非 ASCII 码。</p>
<p>对于任意的二进制文件，可用 base64 编码。</p>
<p><strong>内容类型</strong></p>
<p>MIME着标准规定 Content-Type 说明必须含有两个标识符，即内容类型(type)和子类型(subtype)，中间用“/”分开。 MIME 标准定义了 7 个基本内容类型和 15 种子类型。</p>
<h2 id="6-动态主机配置协议-dhcp"><a class="markdownIt-Anchor" href="#6-动态主机配置协议-dhcp"></a> 6 动态主机配置协议 DHCP</h2>
<p>为了将软件协议做成通用的和便于移植，协议软件的编写者把协议软件参数化。这就使得在很多台计算机上使用同一个经过编译的二进制代码成为可能。</p>
<p>一台计算机和另一台计算机的区别，都可通过一些不同的参数来体现。在软件协议运行之前，必须给每一个参数赋值。</p>
<p><strong>协议配置</strong></p>
<p>在协议软件中给这些参数赋值的动作叫做协议配置。一个软件协议在使用之前必须是已正确配置的。具体的配置信息有哪些则取决于协议栈。</p>
<p>需要配置的项目：</p>
<ol>
<li>IP 地址</li>
<li>子网掩码</li>
<li>默认路由器的 IP 地址</li>
<li>域名服务器的 IP 地址</li>
</ol>
<p>这些信息通常存储在一个配置文件中，计算机在引导过程中可以对这个文件进行存取。</p>
<hr>
<p><strong>动态主机配置协议 DHCP</strong></p>
<p>提供了即插即用连网(plug-and-play networking)的机制。这种机制允许一台计算机加入新的网络和获取IP地址而不用手工参与。</p>
<p><strong>DHCP 使用客户服务器方式</strong></p>
<p>需要 IP 地址的主机在启动时就向 DHCP 服务器广播发送<strong>发现报文</strong>（DHCPDISCOVER），这时该主机就成为 DHCP 客户。</p>
<p>本地网络上所有主机都能收到此广播报文，但只有 DHCP 服务器才回答此广播报文。</p>
<p>DHCP 服务器先在其数据库中查找该计算机的配置信息。若找到，则返回找到的信息。若找不到，则从服务器的 IP 地址池(address pool)中取一个地址分配给该计算机。DHCP 服务器的回答报文叫做<strong>提供报文</strong>（DHCPOFFER）。</p>
<p><strong>DHCP 中继代理(relay agent)</strong></p>
<p>并不是每个网络上都有 DHCP 服务器，这样会使 DHCP 服务器的数量太多。现在是每一个网络至少有一个 DHCP 中继代理，它配置了 DHCP 服务器的 IP 地址信息。</p>
<p>当 DHCP 中继代理收到主机发送的发现报文后，就以单播方式向 DHCP 服务器转发此报文，并等待其回答。收到 DHCP 服务器回答的提供报文后，DHCP 中继代理再将此提供报文发回给主机。</p>
<p><a href="/pic/network/6-20.png" data-fancybox="group" data-caption class="fancybox"><img alt data-src="/pic/network/6-20.png" class="lazyload" title></a></p>
<hr>
<p><strong>租用期</strong></p>
<p>DHCP 服务器分配给 DHCP 客户的 IP 地址是临时的，因此 DHCP 客户只能在一段有限的时间内使用这个分配到的 IP 地址。DHCP 协议称这段时间为<strong>租用期</strong>。 租用期的数值应由 DHCP 服务器自己决定。</p>
<p>DHCP 客户也可在自己发送的报文中（例如，发现报文）提出对租用期的要求。</p>
<p><strong>DHCP 协议的工作过程</strong></p>
<p><a href="/pic/network/6-21.png" data-fancybox="group" data-caption class="fancybox"><img alt data-src="/pic/network/6-21.png" class="lazyload" title></a></p>
<ol>
<li>DHCP 服务器被动打开 UDP 端口 67，等待客户端发来的报文。</li>
<li>DHCP 客户从 UDP 端口 68 发送 DHCP 发现报文。</li>
<li>凡收到 DHCP 发现报文的 DHCP 服务器都发出 DHCP 提供报文，因此 DHCP 客户可能收到多个 DHCP 提供报文。</li>
<li>DHCP 客户从几个 DHCP 服务器中选择其中的一个，并向所选择的 DHCP 服务器发送 DHCP 请求报文。</li>
<li>被选择的 DHCP 服务器发送确认报文 DHCPACK，进入已绑定状态，并可开始使用得到的临时 IP 地址了。DHCP 客户现在要根据服务器提供的租用期 T 设置两个计时器 T<sub>1</sub> 和 T<sub>2</sub>，它们的超时时间分别是 0.5T 和 0.875T。当超时时间到就要请求更新租用期。</li>
<li>租用期过了一半（T<sub>1</sub> 时间到），DHCP 发送请求报文 DHCPREQUEST 要求更新租用期。</li>
<li>DHCP 服务器若同意，则发回确认报文 DHCPACK。DHCP 客户得到了新的租用期，重新设置计时器。</li>
<li>DHCP 服务器若不同意，则发回否认报文 DHCPNACK。这时 DHCP 客户必须立即停止使用原来的 IP 地址，而必须重新申请 IP 地址（回到步骤2）。<br>
若DHCP服务器不响应步骤6的请求报文 DHCPREQUEST，则在租用期过了 87.5% 时，DHCP 客户必须重新发送请求报文 DHCPREQUEST（重复步骤6），然后又继续后面的步骤。</li>
<li>DHCP 客户可随时提前终止服务器所提供的租用期，这时只需向 DHCP 服务器发送释放报文 DHCPRELEASE 即可。</li>
</ol>
<h2 id="7-简单网络管理协议-snmp"><a class="markdownIt-Anchor" href="#7-简单网络管理协议-snmp"></a> 7 简单网络管理协议 SNMP</h2>
<h3 id="71-网络管理的基本概念"><a class="markdownIt-Anchor" href="#71-网络管理的基本概念"></a> 7.1 网络管理的基本概念</h3>
<p>网络管理包括对硬件、软件和人力的使用、综合与协调，以便对网络资源进行监视、测试、配置、分析、评价和控制，这样就能以合理的价格满足网络的一些需求，如实时运行性能，服务质量等。网络管理常简称为网管。</p>
<p>网络管理并不是指对网络进行行政上的管理。</p>
<p><strong>网络管理的一般模型</strong></p>
<p><a href="/pic/network/6-22.png" data-fancybox="group" data-caption class="fancybox"><img alt data-src="/pic/network/6-22.png" class="lazyload" title></a></p>
<p>网络管理模型中的主要构件</p>
<ul>
<li><strong>管理站</strong>也常称为<strong>网络运行中心 NOC</strong> (Network Operations Center)，是网络管理系统的核心。</li>
<li><strong>管理程序</strong>在运行时就成为<strong>管理进程</strong>。</li>
<li>管理站（硬件）或管理程序（软件）都可称为<strong>管理者</strong>(manager)。</li>
<li><strong>Manager</strong> 不是指人而是指机器或软件。</li>
<li><strong>网络管理员</strong>(administrator) 指的是人。大型网络往往实行多级管理，因而有多个管理者，而一个管理者一般只管理本地网络的设备。</li>
</ul>
<p><strong>被管对象</strong></p>
<p>网络的每一个被管设备中可能有多个被管对象。</p>
<p>被管设备有时可称为网络元素或网元。</p>
<p>在被管设备中也会有一些不能被管的对象。</p>
<p><strong>代理</strong></p>
<p>在每一个被管设备中都要运行一个程序以便和管理站中的管理程序进行通信。这些运行着的程序叫做<strong>网络管理代理程序</strong>，或简称为<strong>代理</strong>。</p>
<p>代理程序在管理程序的命令和控制下在被管设备上采取本地的行动。</p>
<p><strong>网络管理协议</strong></p>
<p>网络管理协议，简称为网管协议。需要注意的是，并不是网管协议本身来管理网络。网管协议就是管理程序和代理程序之间进行通信的规则。</p>
<p>网络管理员利用网管协议通过管理站对网络中的被管设备进行管理。</p>
<p><strong>客户服务器方式</strong></p>
<p>管理程序和代理程序按客户服务器方式工作。</p>
<p>管理程序运行 SNMP 客户程序，向某个代理程序发出请求（或命令），代理程序运行 SNMP 服务器程序，返回响应（或执行某个动作）。</p>
<p>在网管系统中往往是一个（或少数几个）客户程序与很多的服务器程序进行交互。</p>
<p><strong>网络管理的基本原理</strong>：若要管理某个对象，就必然会给该对象添加一些软件或硬件，但这种“添加”必须对原有对象的影响尽量小些。</p>
<hr>
<p><strong>SNMP 的指导思想</strong></p>
<ul>
<li>SNMP 最重要的指导思想就是要尽可能简单。</li>
<li>SNMP 的基本功能包括监视网络性能、检测分析网络差错和配置网络设备等。</li>
<li>在网络正常工作时，SNMP 可实现统计、配置、和测试等功能。当网络出故障时，可实现各种差错检测和恢复功能。</li>
<li>虽然 SNMP 是在 TCP/IP 基础上的网络管理协议，但也可扩展到其他类型的网络设备上。</li>
</ul>
<p><strong>SNMP 的管理站和委托代理</strong></p>
<p>整个系统必须有一个<strong>管理站</strong>。</p>
<p>管理进程和代理进程利用 SNMP 报文进行通信，而 SNMP 报文又使用 UDP 来传送。</p>
<p>若网络元素使用的不是 SNMP 而是另一种网络管理协议，SNMP 协议就无法控制该网络元素。这时可使用委托代理(proxy agent)。委托代理能提供如协议转换和过滤操作等功能对被管对象进行管理。</p>
<p>SNMP 的网络管理由三个部分组成</p>
<ul>
<li>SNMP 本身；</li>
<li>管理信息结构 SMI (Structure of Management Information)；</li>
<li>管理信息库 MIB (Management Information Base)；</li>
</ul>
<p><strong>SNMP</strong></p>
<p>SNMP 定义了管理站和代理之间所交换的分组格式。所交换的分组包含各代理中的对象（变量）名及其状态（值）。SNMP 负责读取和改变这些数值。</p>
<p><strong>SMI</strong></p>
<p>SMI 定义了命名对象和定义对象类型（包括范围和长度）的通用规则，以及把对象和对象的值进行编码的规则。</p>
<p>这样做是为了确保网络管理数据的语法和语义的无二义性。但从 SMI 的名称并不能看出它的功能。</p>
<p>SMI 并不定义一个实体应管理的对象数目，也不定义被管对象名以及对象名及其值之间的关联。</p>
<p><strong>MIB</strong></p>
<p>MIB 在被管理的实体中创建了命名对象，并规定了其类型。</p>
<h3 id="72-管理信息结构-smi"><a class="markdownIt-Anchor" href="#72-管理信息结构-smi"></a> 7.2 管理信息结构 SMI</h3>
<p>SMI 的功能：</p>
<ol>
<li>被管对象应怎样命名；</li>
<li>用来存储被管对象的数据类型有哪些种；</li>
<li>在网络上传送的管理数据应如何编码。</li>
</ol>
<p><a href="/pic/network/6-23.png" data-fancybox="group" data-caption class="fancybox"><img alt data-src="/pic/network/6-23.png" class="lazyload" title></a></p>
<p><strong>SMI 使用 ASN.1</strong></p>
<p>SMI 标准指明了所有的 MIB 变量必须使用抽象语法记法 1（ASN.1）来定义。SMI 既是 ASN.1 的子集，又是 ASN.1 的超集。 ASN.1 的记法很严格，它使得数据的含义不存在任何可能的二义性。SMI 把数据类型分为两大类：简单类型和结构化类型。</p>
<p><strong>基本编码规则 BER</strong></p>
<p>ISO 在制订 ASN.1 语言的同时也为它定义了一种标准的编码方案，即基本编码规则 BER。</p>
<p>BER 指明了每种数据类型中每个数据的值的表示。</p>
<p>发送端用 BER 编码，可将用 ASN.1 所表述的报文转换成唯一的比特序列。接收端用 BER 进行解码，得到该比特序列所表示的 ASN.1 报文。</p>
<p><strong>用 TLV 方法进行编码</strong></p>
<p>把各种数据元素表示为以下三个字段组成的八位位组序列：</p>
<ol>
<li>T 字段，即标识符八位位组(identifier octet)，用于<strong>标识标记</strong>。</li>
<li>L 字段，即长度用八位位组(length octet)，用于<strong>标识后面 V 字段的长度</strong>。</li>
<li>V 字段，即内容八位位组(content octet)，用于<strong>标识数据元素的值</strong>。</li>
</ol>
<p>TLV 中的 T 字段定义数据的类型</p>
<p><a href="/pic/network/6-24.png" data-fancybox="group" data-caption class="fancybox"><img alt data-src="/pic/network/6-24.png" class="lazyload" title></a></p>
<p>TLV 中的 L 字段定义 V 字段的长度</p>
<p><a href="/pic/network/6-25.png" data-fancybox="group" data-caption class="fancybox"><img alt data-src="/pic/network/6-25.png" class="lazyload" title></a></p>
<p>TLV 中的 V 字段定义数据的值</p>
<p>例如，INTEGER 15，其 T 字段是02， INTEGER 类型要用 4 字节编码。最后得出 TLV 编码为 02 04 00 00 00 0F。</p>
<p>又如 IPAddress 192.1.2.3，其 T 字段是 40，V 字段需要 4 字节表示，因此得出 IPAddress 192.1.2.3 的 TLV 编码是 40 04 C0 01 02 03。</p>
<h3 id="73-管理信息库-mib"><a class="markdownIt-Anchor" href="#73-管理信息库-mib"></a> 7.3 管理信息库 MIB</h3>
<p>被管对象必须维持可供管理程序读写的若干控制和状态信息。这些信息总称为<strong>管理信息库 MIB</strong> 。</p>
<p>管理程序使用 MIB 中这些信息的<strong>值</strong>对网络进行管理（如读取或重新设置这些值）。</p>
<h3 id="74-snmp-的协议数据单元和报文"><a class="markdownIt-Anchor" href="#74-snmp-的协议数据单元和报文"></a> 7.4 SNMP 的协议数据单元和报文</h3>
<p>SNMP的操作只有两种基本的管理功能，即：</p>
<ul>
<li>“读”操作，用 get 报文来检测各被管对象的状况；</li>
<li>“写”操作，用 set 报文来改变各被管对象的状况。</li>
</ul>
<p><strong>SNMP 的探询操作</strong></p>
<p>探询操作——SNMP 管理进程定时向被管理设备周期性地发送探询信息。</p>
<p>探询的好处是：</p>
<ul>
<li>可使系统相对简单。</li>
<li>能限制通过网络所产生的管理信息的通信量。</li>
</ul>
<p>但探询管理协议不够灵活，而且所能管理的设备数目不能太多。探询系统的开销也较大。如探询频繁而并未得到有用的报告，则通信线路和计算机的 CPU 周期就被浪费了。</p>
<p><strong>陷阱</strong></p>
<p>SNMP 不是完全的探询协议，它允许不经过询问就能发送某些信息。这种信息称为陷阱，表示它能够捕捉“事件”。这种陷阱信息的参数是受限制的。</p>
<p>当被管对象的代理检测到有事件发生时，就检查其门限值。代理只向管理进程报告达到某些门限值的事件（即<strong>过滤</strong>）。过滤的好处是：</p>
<ul>
<li>仅在严重事件发生时才发送陷阱；</li>
<li>陷阱信息很简单且所需字节数很少。</li>
</ul>
<p><strong>SNMP 是有效的网络管理协议</strong></p>
<p>使用探询（至少是周期性地）以维持对网络资源的实时监视，同时也采用陷阱机制报告特殊事件，使得 SNMP 成为一种有效的网络管理协议。</p>
<p><strong>SNMP 使用无连接的 UDP</strong></p>
<p>SNMP 使用无连接的 UDP，因此在网络上传送 SNMP 报文的开销较小。但 UDP 不保证可靠交付。</p>
<p>在运行代理程序的服务器端用熟知端口 161 来接收 get 或 set 报文和发送响应报文（与熟知端口通信的客户端使用临时端口）；运行管理程序的客户端则使用熟知端口 162 来接收来自各代理的 trap 报文。</p>
<p><strong>SNMP 的报文格式</strong></p>
<p><a href="/pic/network/6-26.png" data-fancybox="group" data-caption class="fancybox"><img alt data-src="/pic/network/6-26.png" class="lazyload" title></a></p>
<h2 id="8-应用进程跨越网络的通信"><a class="markdownIt-Anchor" href="#8-应用进程跨越网络的通信"></a> 8 应用进程跨越网络的通信</h2>
<h3 id="81-系统调用和应用编程接口"><a class="markdownIt-Anchor" href="#81-系统调用和应用编程接口"></a> 8.1 系统调用和应用编程接口</h3>
<p>大多数操作系统使用<strong>系统调用</strong>(system call)的机制在应用程序和操作系统之间传递控制权。</p>
<p>对程序员来说，每一个系统调用和一般程序设计中的函数调用非常相似，只是系统调用是将控制权传递给了操作系统。</p>
<p><strong>多个应用进程使用系统调用的机制</strong></p>
<p><a href="/pic/network/6-27.png" data-fancybox="group" data-caption class="fancybox"><img alt data-src="/pic/network/6-27.png" class="lazyload" title></a></p>
<p><strong>应用编程接口 API</strong></p>
<p>当某个应用进程启动系统调用时，控制权就从应用进程传递给了<strong>系统调用接口</strong>。此接口再将控制权传递给计算机的操作系统。操作系统将此调用转给某个内部过程，并执行所请求的操作。</p>
<p>内部过程一旦执行完毕，控制权就又通过系统调用接口返回给应用进程。系统调用接口实际上就是应用进程的控制权和操作系统的控制权进行转换的一个接口，即<strong>应用编程接口 API</strong>。</p>
<p><strong>应用进程通过套接字接入到网络</strong></p>
<p><a href="/pic/network/6-28.png" data-fancybox="group" data-caption class="fancybox"><img alt data-src="/pic/network/6-28.png" class="lazyload" title></a></p>
<p><strong>套接字的作用</strong></p>
<p>当应用进程需要使用网络进行通信时就发出系统调用，请求操作系统为其创建“套接字”，以便把网络通信所需要的系统资源分配给该应用进程。</p>
<p>操作系统为这些资源的总和用一个叫做<strong>套接字描述符</strong>的号码来表示，并把此号码返回给应用进程。应用进程所进行的网络操作都必须使用这个号码。</p>
<p>通信完毕后，应用进程通过一个关闭套接字的系统调用通知操作系统回收与该“号码”相关的所有资源。</p>
<p><a href="/pic/network/6-29.png" data-fancybox="group" data-caption class="fancybox"><img alt data-src="/pic/network/6-29.png" class="lazyload" title></a></p>
<h3 id="82-几种常用的系统调用"><a class="markdownIt-Anchor" href="#82-几种常用的系统调用"></a> 8.2 几种常用的系统调用</h3>
<p>连接建立阶段：</p>
<p>当套接字被创建后，它的端口号和 IP 地址都是空的，因此应用进程要调用 bind（绑定）来指明套接字的本地地址。在服务器端调用 bind 时就是把熟知端口号和本地IP地址填写到已创建的套接字中。这就叫做把<strong>本地地址绑定到套接字</strong>。</p>
<p>服务器在调用 bind 后，还必须调用 listen（收听）把套接字设置为被动方式，以便随时接受客户的服务请求。UDP服务器由于只提供无连接服务，不使用 listen 系统调用。</p>
<p>服务器紧接着就调用 accept（接受），以便把远地客户进程发来的连接请求提取出来。系统调用 accept 的一个变量就是要指明从哪一个套接字发起的连接。</p>
<p><a href="/pic/network/6-30.png" data-fancybox="group" data-caption class="fancybox"><img alt data-src="/pic/network/6-30.png" class="lazyload" title></a></p>
<p><strong>系统调用使用顺序的例子</strong></p>
<p><a href="/pic/network/6-31.png" data-fancybox="group" data-caption class="fancybox"><img alt data-src="/pic/network/6-31.png" class="lazyload" title></a></p>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">fc</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://fengce1993.github.io/2020/02/06/network-6/">http://fengce1993.github.io/2020/02/06/network-6/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://fengce1993.github.io">BLEACH</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">计算机网络    </a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button button--primary button--animated"> <i class="fa fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="lazyload post-qr-code__img" src="/img/wechat.jpg" alt="微信"><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="lazyload post-qr-code__img" src="/img/alipay.jpg" alt="支付宝"><div class="post-qr-code__desc">支付宝</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="next-post pull-full"><a href="/2020/02/05/network-5/"><img class="next_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">下一篇</div><div class="next_info"><span>计算机网络(六)：运输层</span></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> 相关推荐</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2020/01/21/network-1/" title="计算机网络(一)：计算机网络概述"><img class="relatedPosts_cover lazyload"data-src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-01-21</div><div class="relatedPosts_title">计算机网络(一)：计算机网络概述</div></div></a></div><div class="relatedPosts_item"><a href="/2020/01/28/network-2/" title="计算机网络(二)：物理层"><img class="relatedPosts_cover lazyload"data-src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-01-28</div><div class="relatedPosts_title">计算机网络(二)：物理层</div></div></a></div><div class="relatedPosts_item"><a href="/2020/02/05/network-5/" title="计算机网络(六)：运输层"><img class="relatedPosts_cover lazyload"data-src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-02-05</div><div class="relatedPosts_title">计算机网络(六)：运输层</div></div></a></div><div class="relatedPosts_item"><a href="/2020/01/30/network-3/" title="计算机网络(三)：数据链路层"><img class="relatedPosts_cover lazyload"data-src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-01-30</div><div class="relatedPosts_title">计算机网络(三)：数据链路层</div></div></a></div><div class="relatedPosts_item"><a href="/2020/02/03/network-4-2/" title="计算机网络(五)：网络层(二)"><img class="relatedPosts_cover lazyload"data-src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-02-03</div><div class="relatedPosts_title">计算机网络(五)：网络层(二)</div></div></a></div><div class="relatedPosts_item"><a href="/2020/02/02/network-4-1/" title="计算机网络(四)：网络层(一)"><img class="relatedPosts_cover lazyload"data-src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-02-02</div><div class="relatedPosts_title">计算机网络(四)：网络层(一)</div></div></a></div></div><div class="clear_both"></div></div><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> 评论</span></div><div id="gitalk-container"></div><script>var gitalk = new Gitalk({
  clientID: '98c8aa074b828fc6bd11',
  clientSecret: 'e0e862ca02f30148e7b5f049bd5a736d7831a717',
  repo: 'fengce1993.github.io',
  owner: 'fengce1993',
  admin: 'fengce1993',
  id: md5(decodeURI(location.pathname)),
  language: 'zh-CN',
  updateCountCallback: commentCount
})
gitalk.render('gitalk-container')

function commentCount(n){
  document.getElementsByClassName('gitalk-comment-count')[0].innerHTML= n
}</script></div></div></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2020 By fc</div><div class="framework-info"><span>驱动 </span><a href="http://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换" target="_self">繁</a><i class="darkmode fa fa-moon-o" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="直达评论"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.css"><script>$(function () {
  $('span.katex-display').wrap('<div class="katex-wrap"></div>')
})</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async=""></script></body></html>